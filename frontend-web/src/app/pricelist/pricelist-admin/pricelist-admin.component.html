<h1 class="text-center mb-5 m-4">Verwalten der Preislisten</h1>
<hr>
<div class="control-container">
  <mvf-event-dropdown (selectionChange)="onDropdownSelectionChange($event)"></mvf-event-dropdown>
  <div class="btn-group">
    <button type="button" class="btn btn-danger" (click)="openModalRemove()">Preisliste löschen</button>
    <button type="button" class="btn btn-primary" (click)="openModal()">Preisliste erstellen</button>
  </div>
</div>


<table class="table table-hover border-1 text-center">
  <thead class="bg-danger">
  <tr class="bg-danger">
    <th scope="col">Event Name</th>
    <th scope="col">Kategorie</th>
    <th scope="col">Preis</th>
  </tr>
  </thead>

  <tbody *ngFor="let pricelist of pricelists">
  <tr *ngIf="pricelist">
    <td class="align-middle">{{ pricelist.event.name }}</td>
    <td class="align-middle">{{ pricelist.product.name }}</td>
    <td class="align-middle">{{ pricelist.price }}€</td>
  </tr>
  </tbody>

</table>


<div class="modal fade" #createPricelist tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="createModalLabel">Angebote erstellen</h5>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
             aria-label="Close" (click)="closeModal()"
             class="bi bi-x-lg close" viewBox="0 0 16 16">
          <path
            d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
        </svg>
      </div>
      <div class="modal-body">
        <div class="outer" *ngFor="let item of items">
          <div class="box1">
            <input class="form-check-input" type="checkbox" [(ngModel)]="item.checked" >
          </div>
          <div class="box2">
            {{ item.label }}
          </div>
          <div class="box3">
            <input class="price-input" type="number" [(ngModel)]="item.price">
          </div>
        </div>
        <mvf-event-dropdown class="event-dropdown" (selectionChange)="onDropdownSelectionChangeForCreate($event)"></mvf-event-dropdown>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeModal()">Schließen</button>
        <button type="button" class="btn btn-primary" (click)="createPricelistFunc()">Erstellen</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" #removePricelist tabindex="-1" role="dialog" aria-labelledby="removeModalLabel"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="removeModalLabel">Preisliste löschen</h5>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
             aria-label="Close" (click)="closeModalRemove()"
             class="bi bi-x-lg close" viewBox="0 0 16 16">
          <path
            d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
        </svg>
      </div>
      <div class="modal-body">
        <p class="text-center">Wählen Sie ein Event aus von dem Sie die Preisliste löschen möchten.</p>
        <mvf-event-dropdown class="event-dropdown" (selectionChange)="onDropdownSelectionChangeForRemove($event)"></mvf-event-dropdown>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeModalRemove()">Schließen</button>
        <button type="button" class="btn btn-primary" (click)="removePricelistFunc()">Löschen</button>
      </div>
    </div>
  </div>
</div>
